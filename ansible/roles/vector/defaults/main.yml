---
# Vector installation
vector_install: true

# Vector service configuration
vector_service_enabled: true  # enabled by default
vector_service_state: started  # started by default

# Vector configuration
vector_config_dir: "/etc/vector"
vector_config_file: "/etc/vector/vector.yaml"

# CloudWatch Logs configuration
# Can be overridden in group_vars or host_vars to match existing log groups
# Example: "/boundless/bento/dev" or "/boundless/bento/{{ stack_name }}"
vector_cloudwatch_log_group: "/boundless/bento/{{ hostvars[inventory_hostname]['ansible_hostname'] }}"
vector_cloudwatch_region: "us-west-2"
vector_cloudwatch_stream_name: "%Y-%m-%d"

# AWS Authentication
# Vector will use credentials in this order:
# 1. IAM instance profile (if running on EC2) - preferred method
# 2. AWS credentials file (~/.aws/credentials) - if vector_aws_credentials_file is set
# 3. Environment variables in /etc/default/vector - if vector_aws_access_key_id and vector_aws_secret_access_key are set
vector_aws_use_instance_profile: true  # Use IAM instance profile (preferred for EC2)
vector_aws_credentials_file: null  # Path to AWS credentials file (e.g., "/root/.aws/credentials")
vector_aws_access_key_id: null  # AWS access key ID (not recommended, use IAM roles instead)
vector_aws_secret_access_key: null  # AWS secret access key (not recommended, use IAM roles instead)

# Services to monitor (systemd units)
vector_monitor_services:
  - bento.service

# Vector buffer configuration
vector_buffer_type: "memory"
vector_buffer_max_size: 268435488  # 256MB
vector_buffer_when_full: "block"

# Vector log level
vector_log_level: "info"
