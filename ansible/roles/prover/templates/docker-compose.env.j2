# Bento Docker Compose Environment Variables
# Generated by Ansible - Do not edit manually

# Database Configuration
POSTGRES_HOST={{ prover_postgres_host }}
POSTGRES_PORT={{ prover_postgres_port }}
POSTGRES_DB={{ prover_postgres_db }}
POSTGRES_USER={{ prover_postgres_user }}
POSTGRES_PASSWORD={{ prover_postgres_password }}

# Redis/Valkey Configuration
REDIS_HOST={{ prover_redis_host }}

# MinIO Configuration
MINIO_HOST={{ prover_minio_host }}
MINIO_BUCKET={{ prover_minio_bucket }}
MINIO_ROOT_USER={{ prover_minio_root_user }}
MINIO_ROOT_PASS={{ prover_minio_root_pass }}

# Bento Configuration
RUST_LOG={{ prover_rust_log }}
NO_COLOR=1
RISC0_HOME={{ prover_risc0_home }}
SEGMENT_SIZE={{ prover_segment_size }}
RISC0_KECCAK_PO2={{ prover_risc0_keccak_po2 }}
REDIS_TTL={{ prover_redis_ttl }}
SNARK_TIMEOUT={{ prover_snark_timeout }}

# Prover Binary URL (for prebuilt images)
BENTO_BINARY_URL={{ prover_binary_url }}

# Dockerfile configuration (for building from source)
{% if prover_agent_dockerfile is defined and prover_agent_dockerfile | string | length > 0 %}
AGENT_DOCKERFILE={{ prover_agent_dockerfile }}
{% endif %}
{% if prover_broker_dockerfile is defined and prover_broker_dockerfile | string | length > 0 %}
BROKER_DOCKERFILE={{ prover_broker_dockerfile }}
{% endif %}

# BLAKE3 Groth16 artifacts (required for GPU proving)
{% if prover_blake3_groth16_url is defined and prover_blake3_groth16_url | string | length > 0 %}
BLAKE3_GROTH16_ARTIFACTS_URL={{ prover_blake3_groth16_url }}
{% endif %}
{% if prover_use_local_blake3_groth16 is defined and prover_use_local_blake3_groth16 | bool %}
USE_LOCAL_BLAKE3_GROTH16_SETUP=1
{% endif %}

# Worker counts
{% if prover_executor_count is defined and prover_executor_count | string | length > 0 %}
BENTO_EXECUTOR_COUNT={{ prover_executor_count }}
{% endif %}
{% if prover_aux_worker_count is defined and prover_aux_worker_count | string | length > 0 %}
BENTO_AUX_WORKER_COUNT={{ prover_aux_worker_count }}
{% endif %}
# Broker Configuration (if enabled)
{% if prover_private_key is defined and prover_private_key | string | length > 0 %}
PROVER_PRIVATE_KEY={{ prover_private_key }}
{% endif %}
{% if prover_povw_log_id is defined and prover_povw_log_id | string | length > 0 %}
POVW_LOG_ID={{ prover_povw_log_id }}
{% endif %}
{% if prover_rpc_url is defined and prover_rpc_url | string | length > 0 %}
PROVER_RPC_URL={{ prover_rpc_url }}
{% endif %}
{% if prover_rpc_urls is defined and prover_rpc_urls | string | length > 0 %}
PROVER_RPC_URLS={{ prover_rpc_urls }}
{% endif %}
