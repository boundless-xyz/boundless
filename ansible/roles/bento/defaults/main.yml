---
# Bento version to install
bento_version: "v1.1.2"

# Bento task type (prove, execute, aux, etc.)
bento_task: "prove"

# Service user
bento_user: "bento"
bento_group: "bento"
bento_home: "/var/lib/bento"
bento_shell: "/usr/sbin/nologin"

# Service timeouts
bento_agent_timeout_start_sec: 1800
bento_agent_timeout_stop_sec: 300

# Bento configuration
bento_segment_po2: 20
bento_keccak_po2: 17
bento_rust_log: "info"

# Database configuration
# These reference group_vars/all/postgresql.yml variables
# Can be overridden in host_vars for remote connections
bento_postgresql_user: "{{ postgresql_user }}"
bento_postgresql_password: "{{ postgresql_password }}"
bento_postgresql_host: "{{ postgresql_host }}"
bento_postgresql_port: "{{ postgresql_port }}"
bento_postgresql_database: "{{ postgresql_database }}"

# Valkey (Redis) configuration
# These reference group_vars/all/valkey.yml variables
# Can be overridden in host_vars for remote connections
bento_valkey_host: "{{ valkey_host }}"
bento_valkey_port: "{{ valkey_port }}"

# S3 configuration
# These reference group_vars/all/bento.yml or can be overridden in host_vars
# S3 credentials match MinIO root credentials by default
bento_s3_bucket: "bento"
bento_s3_url: "http://{{ minio_host | default('localhost') }}:{{ minio_port | default(9000) }}"
bento_s3_access_key: "{{ minio_root_user | default('minioadmin') }}"
bento_s3_secret_key: "{{ minio_root_password | default('minioadmin') }}"
bento_s3_region: "auto"

# Other configuration
bento_rewards_address: ""
bento_povw_log_id: ""

# Prometheus metrics configuration
bento_prometheus_metrics_addr: "127.0.0.1:9090"

# Installation paths
bento_install_dir: "/usr/local/bin"
bento_config_dir: "/etc/boundless"
bento_work_dir: "/var/lib/bento"

# GPU configuration
# If bento_cuda_visible_devices is not set, GPUs will be auto-detected using nvidia-smi
# Set this manually to override auto-detection (e.g., ["0", "1"] for specific GPUs)
bento_cuda_visible_devices: null  # null = auto-detect, otherwise list of GPU indices as strings

# Service management
bento_service_enabled: true
bento_service_state: started

# Number of service instances to deploy
# When count > 1, systemd template units will be used (e.g., bento-prove@0, bento-prove@1)
# When count is 1 or not set, a single service will be created (e.g., bento-prove)
bento_count: 1

# Dependency installation control
# Set to false to skip installing PostgreSQL, Valkey, and MinIO on this host
# Useful when deploying to worker nodes that connect to remote services
bento_install_dependencies: true
