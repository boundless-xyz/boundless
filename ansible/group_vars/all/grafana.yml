---
# Grafana Configuration
grafana_install: true
grafana_version: "11.0.0"
grafana_service_enabled: true
grafana_service_state: started
grafana_host: "localhost"
grafana_port: 3000
grafana_listen_address: "0.0.0.0"
# Grafana admin credentials - can be set via environment variables
grafana_admin_user: "{{ lookup('env', 'GRAFANA_ADMIN_USER') | default('admin', true) | string }}"
grafana_admin_password: "{{ lookup('env', 'GRAFANA_ADMIN_PASSWORD') | default('admin', true) | string }}"
# Grafana log level - can be set via environment variable
grafana_log_level: "{{ lookup('env', 'GRAFANA_LOG_LEVEL') | default('WARN', true) | string }}"
# Grafana plugins to install
grafana_plugins:
  - "frser-sqlite-datasource"
# PostgreSQL datasource configuration (references postgresql vars)
grafana_postgresql_enabled: true
grafana_postgresql_host: "{{ postgresql_host }}"
grafana_postgresql_port: "{{ postgresql_port }}"
grafana_postgresql_database: "{{ postgresql_database }}"
grafana_postgresql_user: "{{ postgresql_user }}"
grafana_postgresql_password: "{{ postgresql_password }}"
# Broker SQLite datasource configuration
grafana_broker_sqlite_enabled: true
grafana_broker_db_path: "/etc/boundless/broker.db"
# Dashboard provisioning
grafana_dashboards_enabled: true
