import PricingCalculator from "../../../components/pricing-calculator";

# Configuring A Request

Each request specifies a set of request parameters (see [request.yaml](https://github.com/boundless-xyz/boundless/blob/main/request.yaml)); these parameters specify the request ID, the proof requirements, the URL for the relevant guest program and its inputs, and *the offer parameters*. This guide helps requestors understand, configure and optimize their requests via these *offer parameters*.

## Anatomy of a Proof Request

### What are the offer parameters?

The offer parameters determine how the auction is executed, and therefore how provers respond to the request. They specify the parameters of the [reverse Dutch auction](https://en.wikipedia.org/wiki/Reverse_auction#Dutch_reverse_auctions) (see [proof lifecycle](/developers/proof-lifecycle) for a general overview). This is the mechanism by which the requestor and prover can agree upon a price, and ensures the requestor will get the best price available from any prover on the market.


Requestors, who understand these offer parameters, will be able to more effectively tailor requests to current market conditions. This is essential for getting timely and cost-effective proofs. 

### Offer Parameters

:::tip
The Boundless monorepo has a template [request.yaml](https://github.com/boundless-xyz/boundless/blob/main/request.yaml) which specifies all possible request configuration variables. For testing, developers can use the [Boundless CLI to request a proof](/developers/tooling/cli#requesting-a-proof-via-the-boundless-cli).
:::

![Offer Parameter Diagram](/request_diagram.png)

| Parameter      | request.yaml name | Units   | Description                                                                                                                                                                                     |
|----------------|-------------------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Ramp Up Start  | `rampUpStart`     | seconds  | An alloted period of time before the auction price begins to increase, allowing provers to analyze jobs before the price increases. Provers can still lock during this period. This is specified in blocks.|
| Ramp Up Period | `rampUpPeriod`    | blocks  | The duration of time period where the auction price increases linearly. Concretely, it is the number of blocks it takes for the price to increase from the minimum price (`min_price`) to the maximum price (`max_price`).|
| Lock Timeout   | `lockTimeout`     | seconds | The maximum time a prover has to submit once the ramp up period has begun. Regardless of when the prover locks, they must submit the job onchain prior to this time, otherwise they will be slashed. |
| Timeout        | `timeout`         | seconds | The total time after which the proof expires. After this time, if no provers have fulfilled the request, the request will stay *unfulfilled*.|
| Min Price      | `min_price`       | wei     | The floor price of the auction; this can be set to 0.|
| Max Price      | `max_price`       | wei     | The ceiling of the auction; the maximum absolute price you are willing to pay.|
| Collateral     | `lockCollateral`  | $ZKC     | Provers have to deposit *$ZKC* as [proving collateral](/zkc/collateral). This parameter specifies the exact amount of *$ZKC* a prover will lock as collateral when locking the order. If the prover does not fulfill the request before the primary prover deadline (the lock timeout), this collateral is slashed and 50% of the collateral becomes a bounty for secondary provers to claim upon successful proof fulfillment.                                            |


### Example Request Walkthrough

Let's take an example request with the following offer parameters specified in the [request.yaml](https://github.com/boundless-xyz/boundless/blob/main/request.yaml):

```bash
offer:
    minPrice: 1000000000000000 # 0.001 ETH
    maxPrice: 2000000000000000 # 0.002 ETH
    lockCollateral: 10000000000000000000 # 10 ZKC
    rampUpStart: 1000 
    rampUpPeriod: 50
    lockTimeout: 2700 # 45 minutes
    timeout: 3600 # 1 hour 
```

- During the "ramp up start" period, the price is set to the minimum price of 0.001 $ETH.
- During the "ramp up period" (which immediately follows the ramp up start period), the price grows linearly from the minimum price to the maximum price of 0.002 ETH.
- After the "ramp up period", the price remains at the maximum price until the primary prover deadline (the "lock timeout" of 45 minutes).
- After the "lock timeout", a race amongst secondary provers begins. They have until the "timeout" to fulfill the request; otherwise the order expires.


Provers can lock a request at any time before the "lock timeout". When a prover locks a request, they are agreeing to be paid the price set at the time of their bid. They are also agreeing to be slashed if they do not fulfill the request before the "lock timeout". In this case, if the request was locked but not fulfilled in time, the order is slashed and the prover loses their "lock collateral". 50%[^1] of the "lock collateral" is burned and 50% is allocated to the first prover who fulfills the proof, after the "lock timeout" but before the "timeout"; this prover is known as the secondary prover.

## Offer Parameter Recommendations

### Calculator

Use this interactive calculator to get suggested offer parameters based on cycle count and desired fulfillment latency:

<PricingCalculator />

The following two sections detail some recommended guidelines when setting the offer parameters. These guidelines are formulas, and they are to be taken with a pinch of salt. Please remember to start conservatively when tuning each parameter. Provers have to respond and some may set their pricing strategy based on each requestor's standard request profile. Therefore, it is recommended to change offer parameters in small increments during testing, and *only* change offer parameters again once proof fulfillment becomes stable.


### Latency Sensitive Parameters

Each requestor will have a different latency tolerance; some might be fine with receiving a proof on the scale of hours, whereas others will have more time-critical applications and require proof fulfillment on the scale of minutes. These latency requirements should dictate how requestors set the following time-specific offer parameters:

| Parameter      | Units   | Recommendation                       | Notes                                                                                                                                 |
|----------------|---------|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| Ramp Up Start  | blocks  | TODO | Use 10 blocks if you want to more aggressively prioritize latency with the potential of adding more costs in the short to medium term |
| Ramp Up Period | blocks  | TODO| Example : With 1Â¢ increments per block, divide  Max Price  by $0.01 to determine period length.|
| Lock Timeout   | seconds | TODO | Start with 1 MHz assumption. As network stability increases, increase in 5 MHz increments till your requests are at 30 MHz|
| Timeout        | seconds |TODO|TODO|


### Price Sensitive Parameters

The price of a request determines how competitively provers bid on the request, and therefore how quickly the request is locked. 

| Parameter     | Units | Recommendation | Notes |
|---------------|-------|----------------|-------|
| Minimum Price | wei   | Initially, set the minimum price to 0[^1]. To guarantee the lowest latency in both locking and fulfillment, set the minimum price as non-zero.    | As market demand and supply normalizes, competition will stabilize prices at non-zero.|
| Maximum Price | wei   | `TODO`[^1]     | Setting a substantial price ensures requests are visible and attractive to provers. For testing purposes, the recommended absolute minimum is $0.25 worth of $ETH. |

[^1]: This is accurate for October 2025.



