# Wallet Setup

This page covers some best practices when it comes to wallets. It can be overwhelming at first, and not everyone will need to separate every wallet from each other. Every additional wallet comes with the overhead of keeping another private key safe for prover operation. 

To [enable ZK mining](/zkc/mining/enable), the prover specifies the `REWARD_ADDRESS` environment variable which must be a valid Ethereum address. This address *does not* have to be the same as the *$ZKC* staking wallet address or a Boundless prover address[^1], though a single address can be used for all three purposes. It is NOT recommended to use a single address for all three purposes; if the private key is compromised or lost, this will lead to a loss of staked *$ZKC*, loss of $ZKC rewards, and the loss of boundless prover *$ZKC* [collateral](/zkc/proving-collateral) balance. 


## Reward Claiming Workflow

The following diagram illustrates the reward workflow:

![Reward Claim Flow](/reward_claim_flow.png)




## Recommendations

### Wallet Setup Overview

The following diagram illustrates a recommended wallet setup when ZK mining *and* running a Boundless prover: 

![Wallet Setup](/boundless_wallet_setup.png)



### Separate Staking Wallet and Reward Wallet

:::warning
Please note that delegating rewards to any address will delegate all rewards to that address i.e. both staking and mining rewards will only be claimable by that delegatee address. For more information, please see the [token docs](https://github.com/boundless-xyz/zkc?tab=readme-ov-file#zkc).
:::

It is recommended to separate the staking wallet from the rewards address. The rewards address will receive all *$ZKC* staking and mining rewards and therefore, it can be seen as a *hot* wallet. Depending on the size of the prover's stake position, it may be wise to have the wallet that stakes *$ZKC* configured as cold wallet. For this reason, it is possible to delegate rewards *from* the staking wallet *to* the rewards address wallet.

### How to delegate rewards


::::steps

#### Enable ZK Mining

When [enabling ZK mining](/zkc/mining/enable), provers specify the following environment variables:

```bash
export REWARD_ADDRESS="0x0000...0000"
export REWARD_ADDRESS_PRIVATE_KEY="..."
```

#### Stake $ZKC

To stake from a separate wallet, provers may additionally specify:

```bash
export ZKC_WALLET_ADDRESS="0x0000...0000"
export PRIVATE_KEY="..."
```

Provers can now follow the [staking instructions](/zkc/quick-start#how-to-stake-zkc) to stake $ZKC from the `ZKC_WALLET_ADDRESS`. 

#### Delegate Rewards

Once staked, provers can delegate rewards i.e. associate the `REWARD_ADDRESS` with `ZKC_WALLET_ADDRESS`. This is done with the following command:

```bash
boundless zkc delegate-rewards ${REWARD_ADDRESS}
```

This command uses the `PRIVATE_KEY` environment variable to send a transaction onchain, therefore funds are required on `ZKC_WALLET_ADDRESS`.

Once the rewards are delegated, the prover can start proving as normal.

::::




## Separating the Staking Wallet from the Value Recipient

Additionally, the prover can specify a separate Ethereum address to receive the $ZKC reward. By default this is the rewards address, but you can override it with `--value-recipient <address>` when running `submit`.

## What about my Boundless prover address?

Since many Boundless provers run clusters on hosted cloud providers, and because the private key must be in plaintext when starting the broker, the security of this wallet depends on your trust in the cloud provider. Therefore, for provers running large proving/ZK-mining clusters with large expected $ZKC reward amounts, it is not recommended to use your Boundless proving address as the value recipient. If the key is compromised, this can lead to a loss of rewards and require new wallet setup to resume proving.

At the minimum, we recommend most provers separate their value recipient address, such that:

* Boundless Prover Address + Rewards Address can be the same
* Value Recipient is a separate address

This setup allows the proving cluster to prove orders on the Boundless market and generate and post work log updates onchain to be eligible for rewards. It also means that after running `claim`, the reward $ZKC is transferred to a separate address. Claiming rewards is a permissionless process and does not require access to the private key for the rewards address.


[^1]: Note that mining rewards are eligible for *all verifiable work*, not solely work done to prove Boundless market orders. Therefore, provers not connected to the Boundless market are still eligible for *$ZKC* rewards, provided they are proving during the epoch and they have staked *$ZKC*.